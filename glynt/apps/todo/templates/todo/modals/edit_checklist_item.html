<script>
$(document).ready( function () {
    /**
    * For all the data toggles capture and modify the click event
    * we want to populate the modal-body with our updated data
    */
    $('[data-toggle="modal"]').click(function (event) {
        event.preventDefault();
        event.stopPropagation();

        var elem = $(this);
        var url = elem.data('remote') || elem.attr('href');
        var target = $('#modal-checklist-item');
        var modal_body = target.find('.modal-body');

        modal_body.html('');// clear html
        modal_body.load(url, function (data) {
            modal_body.html(data);
            // fire the laod event only on successful load of url
            target.modal('show'); // load html
        });


    });
    $('#modal-checklist-item').on('show.bs.modal', function (event) {
        var target = $(event.currentTarget);
        var title = target.find('.modal-title');
        var body = target.find('.modal-body');
        var action_button = $('.modal-footer .btn-success:first');
        var form = body.find('form:first');
        // var form_action = form.attr('action');
        var name = form.find('input[type=text]:first').val();

        if (name && name !== '') {
            title.html('Edit - {name}'.assign({'name': name}));
        } else {
            title.html('Create new item');
        }

        action_button.on('click', function (event) {
            event.preventDefault();
            form.submit();
        });

    })

});
</script>
<!-- Modal -->
<div class="modal" id="modal-checklist-item">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title"></h4>
            </div>
            <div class="modal-body">&nbsp;</div>
            <div class="modal-footer">
                <a href="#" class="btn btn-success">Update</a>
            </div>
        </div>
    </div>
</div>